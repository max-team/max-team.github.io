(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{217:function(t,v,_){"use strict";_.r(v);var a=_(2),s=Object(a.a)({},function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"多端适配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#多端适配","aria-hidden":"true"}},[t._v("#")]),t._v(" 多端适配")]),t._v(" "),_("h2",{attrs:{id:"设计稿尺寸单位"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#设计稿尺寸单位","aria-hidden":"true"}},[t._v("#")]),t._v(" 设计稿尺寸单位")]),t._v(" "),_("p",[t._v("框架默认开启 px 单位转换功能，在小程序中会转换为 "),_("code",[t._v("rpx")]),t._v("，在 H5 中会转换为 "),_("code",[t._v("rem")]),t._v("。")]),t._v(" "),_("p",[t._v("将编译配置中 "),_("code",[t._v("designWidth")]),t._v(" 设置为实际设计稿的宽度值，在开发汇总书写尺寸即可按照 1:1 的关系来进行书写，即从设计稿上量的长度 100px，那么尺寸书写就是 100px。详细设置参考【编译配置】。")]),t._v(" "),_("h2",{attrs:{id:"特性支持"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特性支持","aria-hidden":"true"}},[t._v("#")]),t._v(" 特性支持")]),t._v(" "),_("h3",{attrs:{id:"全局方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#全局方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 全局方法")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("生命周期")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("getApp")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(可以获取到 app 实例及其属性和生命周期、支持 $api)")])]),t._v(" "),_("tr",[_("td",[t._v("getCurrentPages")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(已支持获取到 route 和 uri，其他信息暂未支持)")])])])]),t._v(" "),_("h3",{attrs:{id:"配置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),_("h4",{attrs:{id:"app"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#app","aria-hidden":"true"}},[t._v("#")]),t._v(" App")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置属性")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("pages")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("tabBar")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("见下方")])]),t._v(" "),_("tr",[_("td",[t._v("window")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("见下方")])]),t._v(" "),_("tr",[_("td",[t._v("preloadRule")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("subpackages")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])])])]),t._v(" "),_("p",[_("code",[t._v("tabBar")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置属性")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("backgroundColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("borderStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("color")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("list")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("见下方")])]),t._v(" "),_("tr",[_("td",[t._v("selectedColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])])])]),t._v(" "),_("p",[_("code",[t._v("tabBar.list: Array<item: Object>")])]),t._v(" "),_("p",[t._v("list 接受一个数组，tab 按数组的顺序排序，每个项都是一个对象，其属性值如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置属性")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("pagePath")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("text")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("iconPath")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("selectedIconPath")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])])])]),t._v(" "),_("p",[_("code",[t._v("window")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置属性")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("navigationBarBackgroundColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationBarTextStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationBarTitleText")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("backgroundColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("backgroundTextStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("enablePullDownRefresh")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onReachBottomDistance")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])])])]),t._v(" "),_("h4",{attrs:{id:"page"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#page","aria-hidden":"true"}},[t._v("#")]),t._v(" Page")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置属性")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("navigationBarBackgroundColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationBarTextStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationBarTitleText")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("navigationStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("backgroundColor")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("backgroundTextStyle")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("enablePullDownRefresh")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onReachBottomDistance")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("disableScroll")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])])])]),t._v(" "),_("h3",{attrs:{id:"生命周期和事件方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#生命周期和事件方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 生命周期和事件方法")]),t._v(" "),_("p",[t._v("Mars (在 Page 和 Componet 上)支持完整的 Vue 生命周期和小程序生命周期，对应的映射关系如下，建议开发者使用 Vue 生命周期来开发。")]),t._v(" "),_("h4",{attrs:{id:"app-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#app-2","aria-hidden":"true"}},[t._v("#")]),t._v(" App")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("生命周期")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("onLaunch")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onShow")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onHide")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onError")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("onPageNotFound")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])])])]),t._v(" "),_("h4",{attrs:{id:"页面-page"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#页面-page","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面 Page")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("生命周期")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("beforeCreate")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("created")]),t._v(" "),_("td",[t._v("支持(onLoad时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeMount")]),t._v(" "),_("td",[t._v("支持(onReady前调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("mounted")]),t._v(" "),_("td",[t._v("支持(onReady时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeUpdate")]),t._v(" "),_("td",[t._v("支持(setData前调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("updated")]),t._v(" "),_("td",[t._v("支持(视图更新后调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeDestroy")]),t._v(" "),_("td",[t._v("支持(onUnload时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("destroyed")]),t._v(" "),_("td",[t._v("支持(onUnload时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onShow")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 activated)")])]),t._v(" "),_("tr",[_("td",[t._v("onHide")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 deactivated)")])]),t._v(" "),_("tr",[_("td",[t._v("onLoad")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 created)")])]),t._v(" "),_("tr",[_("td",[t._v("onReady")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 mounted)")])]),t._v(" "),_("tr",[_("td",[t._v("onUnload")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 destroyed)")])])])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("页面方法")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("onPullDownRefresh")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onReachBottom")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onPageScroll")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onTabItemTap")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("onForceReLaunch")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("暂不支持")])]),t._v(" "),_("tr",[_("td",[t._v("onShareAppMessage")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("暂不支持")])])])]),t._v(" "),_("h4",{attrs:{id:"组件-component"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#组件-component","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件 Component")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("生命周期")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("beforeCreate")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("created")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeMount")]),t._v(" "),_("td",[t._v("支持(ready前调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("mounted")]),t._v(" "),_("td",[t._v("支持(ready时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeUpdate")]),t._v(" "),_("td",[t._v("支持(setData前调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("updated")]),t._v(" "),_("td",[t._v("支持(视图更新后调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("beforeDestroy")]),t._v(" "),_("td",[t._v("支持(detached时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("destroyed")]),t._v(" "),_("td",[t._v("支持(detached时调用)")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("pageLifetimes.onShow")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 activated)")])]),t._v(" "),_("tr",[_("td",[t._v("pageLifetimes.onHide")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 deactivated)")])]),t._v(" "),_("tr",[_("td",[t._v("lifetimes.created")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 created)")])]),t._v(" "),_("tr",[_("td",[t._v("lifetimes.attached")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 beforeMount)")])]),t._v(" "),_("tr",[_("td",[t._v("lifetimes.ready")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 mounted)")])]),t._v(" "),_("tr",[_("td",[t._v("lifetimes.detached")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持(映射为 destroyed)")])])])]),t._v(" "),_("h3",{attrs:{id:"特性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特性","aria-hidden":"true"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),_("h4",{attrs:{id:"component-构造器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#component-构造器","aria-hidden":"true"}},[t._v("#")]),t._v(" Component 构造器")]),t._v(" "),_("p",[t._v("这里只列出小程序特有的特性，生命周期和 Vue 单文件组件具有的特性请参考上述【生命周期和页面方法】以及【Vue 特性支持 - 自定义组件】。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("小程序")]),t._v(" "),_("th",[t._v("H5")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("options")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("externalClasses")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("behaviors")]),t._v(" "),_("td",[t._v("不支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("definitionFilter")]),t._v(" "),_("td",[t._v("不支持")]),t._v(" "),_("td",[t._v("不支持")])])])]),t._v(" "),_("h2",{attrs:{id:"多端不同业务逻辑适配方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#多端不同业务逻辑适配方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 多端不同业务逻辑适配方法")]),t._v(" "),_("p",[t._v("1、JS 逻辑适配")]),t._v(" "),_("p",[t._v("环境判断条件："),_("code",[t._v("process.env.MARS_ENV")])]),t._v(" "),_("div",{staticClass:"tip custom-block"},[_("p",[_("code",[t._v("process.env.MARS_ENV")]),t._v(" 会在编译时进行静态替换，所以不能当做变量使用，只能静态使用。替换后并进行 dead code elimination，不符合平台判断的代码块会在编译时移除。")])]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MARS_ENV")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h5'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此代码块里的内容只渲染到h5端")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// todo ...")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MARS_ENV")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'swan'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此代码块里的内容只渲染到swan端")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// todo ...")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MARS_ENV")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此代码块里的内容只渲染到wx端")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// todo ...")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),_("p",[t._v("2、template 逻辑适配")]),t._v(" "),_("p",[t._v("通过模板"),_("code",[t._v('<template-mars target="h5/swan/wx">')]),t._v("判断")]),t._v(" "),_("div",{staticClass:"language-html extra-class"},[_("pre",{pre:!0,attrs:{class:"language-html"}},[_("code",[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template-mars")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("target")]),_("span",{pre:!0,attrs:{class:"token attr-value"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("h5"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" // 在H5端渲染为"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    ...\n"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template-mars")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template-mars")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("target")]),_("span",{pre:!0,attrs:{class:"token attr-value"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("swan"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" // 在swan渲染为"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("block")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("，wx同理\n    ...\n"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template-mars")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),_("p",[t._v("3、style 逻辑适配")]),t._v(" "),_("p",[t._v("通过"),_("code",[t._v('<style target="h5/swan/wx">')]),t._v("判断\nstyle 标签不需要写scoped 编译过程统一加")]),t._v(" "),_("div",{staticClass:"language-html extra-class"},[_("pre",{pre:!0,attrs:{class:"language-html"}},[_("code",[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("target")]),_("span",{pre:!0,attrs:{class:"token attr-value"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("swan/wx"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),_("span",{pre:!0,attrs:{class:"token style"}},[_("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n// 此处的style 会与其他style 按顺序合并到一个 style标签，编译到swan/wx\n")])]),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("target")]),_("span",{pre:!0,attrs:{class:"token attr-value"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("h5"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),_("span",{pre:!0,attrs:{class:"token style"}},[_("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n// 此处的style直接编译到H5端，单独style标签存在\n")])]),_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token tag"}},[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])])])},[],!1,null,null,null);v.default=s.exports}}]);